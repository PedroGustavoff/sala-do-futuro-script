function createUI(){if(window.location.hostname!=="saladofuturo.educacao.sp.gov.br")return;const e=document.getElementById("gemini-helper-container");e&&e.remove();const t=document.createElement("link");t.href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap",t.rel="stylesheet",document.head.appendChild(t);const n=document.createElement("div");n.id="gemini-helper-container",Object.assign(n.style,{position:"fixed",bottom:"20px",right:"20px",zIndex:"999999",display:"flex",flexDirection:"column",gap:"12px",fontFamily:'"Poppins", sans-serif'});const o=document.createElement("button");o.id="gemini-menu-btn",o.innerHTML="HCK",Object.assign(o.style,{padding:"10px 16px",background:"linear-gradient(135deg, #FF6F61, #D946EF)",color:"#FFFFFF",border:"none",borderRadius:"20px",cursor:"pointer",fontSize:"16px",fontWeight:"600",boxShadow:"0 4px 12px rgba(217, 70, 239, 0.3)",transition:"transform 0.3s ease, box-shadow 0.3s ease",alignSelf:"flex-end",animation:"pulse 2.5s infinite ease-in-out"}),o.onmouseover=()=>{o.style.transform="scale(1.1)",o.style.boxShadow="0 6px 16px rgba(217, 70, 239, 0.5)"},o.onmouseout=()=>{o.style.transform="scale(1)",o.style.boxShadow="0 4px 12px rgba(217, 70, 239, 0.3)"};const i=document.createElement("div");i.id="gemini-menu",Object.assign(i.style,{display:"none",background:"rgba(28, 37, 38, 0.95)",borderRadius:"20px",padding:"12px",boxShadow:"0 6px 16px rgba(0, 0, 0, 0.4), 0 0 8px rgba(217, 70, 239, 0.2)",position:"fixed",bottom:"70px",right:"20px",flexDirection:"column",gap:"10px",animation:"menuFadeScale 0.4s ease-out",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",width:"200px",maxWidth:"80vw",border:"1px solid rgba(217, 70, 239, 0.2)"}),window.innerWidth>600&&Object.assign(i.style,{width:"300px",padding:"16px"});const l=document.createElement("div");l.innerHTML="HCK",Object.assign(l.style,{color:"#D946EF",fontSize:"24px",fontWeight:"700",textAlign:"center",paddingBottom:"8px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",letterSpacing:"1.2px"});const a=document.createElement("textarea");a.id="gemini-question-input",a.placeholder="Cole sua pergunta aqui...",Object.assign(a.style,{padding:"10px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(42, 52, 53, 0.8)",fontSize:"14px",fontWeight:"400",color:"#E0E0E0",outline:"none",boxShadow:"inset 0 1px 3px rgba(0,0,0,0.3)",resize:"vertical",minHeight:"60px",maxHeight:"80px",width:"100%",transition:"border-color 0.3s ease, box-shadow 0.3s ease",fontFamily:'"Poppins", sans-serif'}),window.innerWidth>600&&(a.style.maxHeight="100px"),a.onfocus=()=>{a.style.borderColor="#D946EF",a.style.boxShadow="0 0 8px rgba(217, 70, 239, 0.4)"},a.onblur=()=>{a.style.borderColor="rgba(255, 255, 255, 0.2)",a.style.boxShadow="inset 0 1px 3px rgba(0,0,0,0.3)"};const s=document.createElement("div");s.id="gemini-images-section",Object.assign(s.style,{maxHeight:"150px",overflowY:"auto",padding:"8px",background:"rgba(42, 52, 53, 0.5)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"12px",color:"#E0E0E0",fontFamily:'"Poppins", sans-serif'});function r(){const e=Array.from(document.querySelectorAll("img")).map(e=>e.src).filter(e=>e&&e.startsWith("http")&&!e.includes("edusp-static.ip.tv/sala-do-futuro")).slice(0,50);s.innerHTML="";const t=document.createElement("button");t.innerHTML='<span style="margin-right: 4px;">üîÑ</span>Atualizar Imagens',Object.assign(t.style,{width:"100%",padding:"6px 8px",background:"linear-gradient(135deg, #FF6F61, #D946EF)",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"12px",fontWeight:"500",textAlign:"center",marginBottom:"8px",transition:"transform 0.3s ease, box-shadow 0.3s ease"}),t.onmouseover=()=>{t.style.transform="translateY(-1px)",t.style.boxShadow="0 2px 8px rgba(217, 70, 239, 0.5)"},t.onmouseout=()=>{t.style.transform="translateY(0)",t.style.boxShadow="none"},t.onclick=()=>{r(),window.showCopyNotification("Imagens atualizadas!")},s.appendChild(t),0===e.length?(t=document.createElement("div"),t.textContent="Nenhuma imagem relevante encontrada",Object.assign(t.style,{textAlign:"center",color:"#999"}),s.appendChild(t)):e.forEach((t,n)=>{const o=document.createElement("div");Object.assign(o.style,{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0",borderBottom:n<e.length-1?"1px solid rgba(255, 255, 255, 0.1)":"none"});const i=document.createElement("span");i.textContent=`Imagem ${n+1}`,Object.assign(i.style,{flex:"1",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"});const l=document.createElement("button");l.textContent="Copiar URL",Object.assign(l.style,{padding:"4px 8px",background:"linear-gradient(135deg, #FF6F61, #D946EF)",color:"#FFFFFF",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"transform 0.3s ease, box-shadow 0.3s ease"}),l.onmouseover=()=>{l.style.transform="translateY(-1px)",l.style.boxShadow="0 2px 8px rgba(217, 70, 239, 0.5)"},l.onmouseout=()=>{l.style.transform="translateY(0)",l.style.boxShadow="none"},l.onclick=()=>{navigator.clipboard.writeText(t).then(()=>{window.showCopyNotification("URL copiada!")})},o.appendChild(i),o.appendChild(l),s.appendChild(o)})}r();const d=document.createElement("button");d.id="gemini-analyze-btn",d.innerHTML='<span style="margin-right: 8px;">üîç</span>Analisar',Object.assign(d.style,{padding:"10px 14px",background:"linear-gradient(135deg, #FF6F61, #D946EF)",color:"#FFFFFF",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"500",textAlign:"left",display:"flex",alignItems:"center",transition:"transform 0.3s ease, box-shadow 0.3s ease",fontFamily:'"Poppins", sans-serif'}),d.onmouseover=()=>{d.style.transform="translateY(-2px)",d.style.boxShadow="0 4px 12px rgba(217, 70, 239, 0.5)"},d.onmouseout=()=>{d.style.transform="translateY(0)",d.style.boxShadow="none"};const c=document.createElement("button");c.innerHTML='<span style="margin-right: 8px;">üóëÔ∏è</span>Limpar',Object.assign(c.style,{padding:"10px 14px",background:"linear-gradient(135deg, #FF6F61, #D946EF)",color:"#FFFFFF",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"14px",fontWeight:"500",textAlign:"left",display:"flex",alignItems:"center",transition:"transform 0.3s ease, box-shadow 0.3s ease",fontFamily:'"Poppins", sans-serif'}),c.onmouseover=()=>{c.style.transform="translateY(-2px)",c.style.boxShadow="0 4px 12px rgba(217, 70, 239, 0.5)"},c.onmouseout=()=>{c.style.transform="translateY(0)",c.style.boxShadow="none"};const p=document.createElement("div");p.innerHTML="Desenvolvido por Hackermoon",Object.assign(p.style,{color:"#D946EF",fontSize:"10px",fontWeight:"400",textAlign:"center",paddingTop:"8px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",fontFamily:'"Poppins", sans-serif',opacity:"0.7"}),i.appendChild(l),i.appendChild(a),i.appendChild(s),i.appendChild(d),i.appendChild(c),i.appendChild(p);const m=document.createElement("div");m.id="gemini-response-panel",Object.assign(m.style,{display:"none",position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"rgba(28, 37, 38, 0.95)",borderRadius:"12px",padding:"8px 12px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",maxWidth:"90vw",width:"220px",zIndex:"1000000",animation:"slideIn 0.3s ease",fontFamily:'"Poppins", sans-serif',border:"1px solid rgba(217, 70, 239, 0.2)"}),window.innerWidth>600&&(m.style.width="260px");const u=document.createElement("div");u.id="progress-bar",Object.assign(u.style,{height:"2px",background:"linear-gradient(135deg, #FF6F61, #D946EF)",width:"100%",position:"absolute",bottom:"0",left:"0",borderRadius:"0 0 12px 12px",transition:"width 6s linear"}),m.appendChild(u);const g=document.createElement("div");g.id="gemini-copy-notification",Object.assign(g.style,{display:"none",position:"fixed",bottom:"80px",left:"50%",transform:"translateX(-50%)",background:"rgba(28, 37, 38, 0.95)",borderRadius:"12px",padding:"8px 16px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",color:"#E0E0E0",fontSize:"12px",fontFamily:'"Poppins", sans-serif',zIndex:"1000001",animation:"slideIn 0.3s ease"});const y=document.createElement("style");y.textContent="@keyframes slideIn{from{opacity:0;transform:translate(-50%, 20px);}to{opacity:1;transform:translate(-50%, 0);}}@keyframes slideOut{from{opacity:1;transform:translate(-50%, 0);}to{opacity:0;transform:translate(-50%, 20px);}}@keyframes menuFadeScale{from{opacity:0;transform:translateY(15px) scale(0.9);}to{opacity:1;transform:translateY(0) scale(1);}}@keyframes pulse{0%{transform:scale(1);box-shadow:0 4px 12px rgba(217, 70, 239, 0.3);}50%{transform:scale(1.05);box-shadow:0 6px 16px rgba(217, 70, 239, 0.5);}100%{transform:scale(1);box-shadow:0 4px 12px rgba(217, 70, 239, 0.3);}}",document.head.appendChild(y),n.appendChild(o),n.appendChild(i),document.body.appendChild(n),document.body.appendChild(m),document.body.appendChild(g);return{menuBtn:o,analyzeOption:d,clearOption:c,input:a,responsePanel:m}}function showResponse(e,t,n){e.innerHTML=`<div style="color: #FFFFFF; text-align: center; font-size: 14px; line-height: 1.4;"><strong>${n}</strong>${t?` - ${t}`:""}</div>`,e.style.display="block";const o=document.getElementById("progress-bar");o.style.width="100%",setTimeout(()=>{o.style.width="0%"},0),setTimeout(()=>{e.style.animation="slideOut 0.3s ease forwards",setTimeout(()=>{e.style.display="none",e.style.animation="slideIn 0.3s ease"},300)},6000)}function showCopyNotification(e){const t=document.getElementById("gemini-copy-notification");t.textContent=e,t.style.display="block",setTimeout(()=>{t.style.animation="slideOut 0.3s ease forwards",setTimeout(()=>{t.style.display="none",t.style.animation="slideIn 0.3s ease"},300)},2000)}function clearUI(e,t,n,o){e.value="",t.style.display="none",n.disabled=!1,n.innerHTML='<span style="margin-right: 8px;">üîç</span>Analisar',n.style.opacity="1",o(!1)}window.createUI=createUI,window.showResponse=showResponse,window.clearUI=clearUI,window.showCopyNotification=showCopyNotification;
